<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<script type="text/javascript" src="dighl/main.js"></script>
<style>
  label {
    font-weight: bold;
    width: 200px;
    margin-top: 10px;
  }
  .myframe {
    //width: 500px;
    height: 300px;
    border: 2px solid black;
    float: left;
    margin-left: 20px;
  }
  a {
    text-decoration: none;
  }
  
</style>
</head>
<body>
<script>
loadModule('data/chinese.js');

function searchMCH(event,value)
{
  if(event.keyCode != 13)
  {
    return;
  }
  var b5 = gbk2big5(value);
  var mch = char2MCH(b5);

  $("#mch").html(mch);
  $("#big5").html(b5);
  var links = '';

  var codes = char2hex(b5);
  var b5s = b5.split('');
  var text = '';
  for(var i=0,c;c=codes[i];i++)
  {

    text += '<a target="zdic" href="http://www.zdic.net/z/xz/?u='+c+'">U+'+c+' </a>';
    links += '<a target="tls" href="http://tls.uni-hd.de/procSearch/procSearchChar.lasso?actiontype=search&SearchOP2=eq&SearchField2=tCharacter&searchTerm2='+b5s[i]+'#recordDetail">'+b5s[i]+' </a>';

     
  }
  document.getElementById('tlsf').src = 'http://tls.uni-hd.de/procSearch/procSearchChar.lasso?actiontype=search&SearchOP2=eq&SearchField2=tCharacter&searchTerm2='+b5.split('')[0]+'#recordDetail';

  document.getElementById('zdic').src = 'http://www.zdic.net/z/xz/?u='+codes[0];
  $('#hex').html(text);
  $('#tls').html(links);

}

</script>
<h3>Search for Chinese Characters </h3>

<div style="float:left">
<input type="text" placeholder="type in the character here" onkeyup="searchMCH(event,this.value);" />
<br><p></p><br>
<label for="big5">Long Character: </label>
<div id="big5" style="display:inline"></div><br>
<label for="mch">Middle Chinese: </label>
<div id="mch" style="display:inline"></div>
<br>
<label for="hex">HEX-Codes: </label>
<div id="hex" style="display:inline"></div><br>
<label for="tls">Link to TLS: </label>
<div id="tls" style="display:inline"></div><br>
</div>

<iframe id="zdic" class="myframe" name="zdic" width="500px" src="">alternative text</iframe>
<iframe id="tlsf" class="myframe" name="tls" width="700px" src="">alternative text</iframe>

</body></html>
